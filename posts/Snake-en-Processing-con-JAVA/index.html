<!DOCTYPE html><html lang="en-US" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="Snake Game with Processing and Java" /><meta name="author" content="ethelpoe" /><meta property="og:locale" content="en_US" /><meta name="description" content="Creando el background" /><meta property="og:description" content="Creando el background" /><link rel="canonical" href="/posts/Snake-en-Processing-con-JAVA/" /><meta property="og:url" content="/posts/Snake-en-Processing-con-JAVA/" /><meta property="og:site_name" content="Ethel Poe" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2019-08-09T05:55:00-07:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Snake Game with Processing and Java" /><meta name="twitter:site" content="@ethel69761841" /><meta name="twitter:creator" content="@ethelpoe" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"ethelpoe"},"description":"Creando el background","url":"/posts/Snake-en-Processing-con-JAVA/","@type":"BlogPosting","headline":"Snake Game with Processing and Java","dateModified":"2021-06-20T14:25:13-07:00","datePublished":"2019-08-09T05:55:00-07:00","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/Snake-en-Processing-con-JAVA/"},"@context":"https://schema.org"}</script><title>Snake Game with Processing and Java | Ethel Poe</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Ethel Poe"><meta name="application-name" content="Ethel Poe"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/favicons/android-chrome-512x512.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Ethel Poe</a></div><div class="site-subtitle font-italic">Code and things</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/ethelpoe" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/ethel69761841" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['eth3lpoe','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG â€º <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Snake Game with Processing and Java</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Snake Game with Processing and Java</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> ethelpoe </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Fri, Aug 9, 2019, 5:55 AM -0700" prep="on" > Aug 9, 2019 <i class="unloaded">2019-08-09T05:55:00-07:00</i> </span></div><div> <span> <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Sun, Jun 20, 2021, 4:25 PM -0500" prefix="Updated " > Jun 20 <i class="unloaded">2021-06-20T14:25:13-07:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2041 words">11 min</span></div></div><div class="post-content"><h2 id="creando-el-background">Creando el background</h2><p>Primero crearemos el background en donde se movera nuestro <strong>player</strong></p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="kt">void</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>
<span class="c1">//size of the screen</span>
  <span class="n">size</span><span class="o">(</span><span class="mi">600</span><span class="o">,</span> <span class="mi">600</span><span class="o">);</span>
<span class="c1">//color of the background</span>
  <span class="n">background</span><span class="o">(</span><span class="mi">51</span><span class="o">);</span> 
<span class="c1">//framerate of our game</span>
  <span class="n">frameRate</span><span class="o">(</span><span class="mi">10</span><span class="o">);</span>
<span class="o">}</span>
<span class="kt">void</span> <span class="nf">draw</span><span class="o">()</span> <span class="o">{</span>
<span class="o">}</span>
</pre></table></code></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://lh3.google.com/u/0/d/1dJxCZmcJZppsQlw5hWwVFLF02NNM_daj=w1920-h942-iv1" style="zoom:50%" /></p><p>Ahora dibujaremos al <strong>player</strong></p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre><td class="rouge-code"><pre><span class="c1">//size of cell</span>
<span class="kt">int</span> <span class="n">cellSize</span> <span class="o">=</span> <span class="mi">20</span><span class="o">;</span>

<span class="c1">//ArrayList for store the segments of our snake</span>
<span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">PVector</span><span class="o">&gt;</span> <span class="n">snakeSegments</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">PVector</span><span class="o">&gt;();</span>


<span class="kt">void</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>
  <span class="o">...</span>
      
  <span class="c1">//add elements to our ArrayList    </span>
  <span class="n">snakeSegments</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">PVector</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">1</span><span class="o">));</span>
  <span class="n">snakeSegments</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">PVector</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">1</span><span class="o">));</span>
  <span class="n">snakeSegments</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">PVector</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">));</span>
  
<span class="o">}</span>
<span class="kt">void</span> <span class="nf">draw</span><span class="o">()</span> <span class="o">{</span>
  <span class="c1">//elements of player</span>
  <span class="k">for</span><span class="o">(</span><span class="nc">PVector</span> <span class="n">v</span> <span class="o">:</span> <span class="n">snakeSegments</span><span class="o">)</span> <span class="o">{</span>
      <span class="c1">//color of player</span>
      <span class="n">fill</span><span class="o">(</span><span class="mi">150</span><span class="o">,</span><span class="mi">255</span><span class="o">,</span><span class="mi">40</span><span class="o">);</span>
      <span class="c1">//draw a rect</span>
      <span class="n">rect</span><span class="o">((</span><span class="n">v</span><span class="o">.</span><span class="na">x</span><span class="o">-</span><span class="mi">1</span><span class="o">)*</span><span class="n">cellSize</span><span class="o">,</span> <span class="o">(</span><span class="n">v</span><span class="o">.</span><span class="na">y</span><span class="o">-</span><span class="mi">1</span><span class="o">)*</span><span class="n">cellSize</span><span class="o">,</span> <span class="n">cellSize</span><span class="o">-</span><span class="mi">1</span><span class="o">,</span><span class="n">cellSize</span><span class="o">-</span><span class="mi">1</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://lh3.google.com/u/0/d/1CUETKmXlt2Pa7ZAKaQjlIEPe9XXxSbvt=w1485-h942-iv1" style="zoom:50%" /></p><p>Donde <code class="language-plaintext highlighter-rouge">cellSize</code> es el tamano de cada celda por donde se movera el snake y <code class="language-plaintext highlighter-rouge">snakeSegments</code> es un <code class="language-plaintext highlighter-rouge">ArrayList</code> de objetos tipo <code class="language-plaintext highlighter-rouge">PVector</code>.</p><p>Y ahora tenemos que hacer que nuestro player se mueva por nuestra pantalla, por ahora solo se movera a la derecha, pero aun no responde a nuestras ordenes.</p><p>Recuerda que movimos el <code class="language-plaintext highlighter-rouge">background(51)</code> de la funcion <code class="language-plaintext highlighter-rouge">setup()</code> a la funcion <code class="language-plaintext highlighter-rouge">draw()</code>.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre><td class="rouge-code"><pre><span class="kt">int</span> <span class="n">cellSize</span> <span class="o">=</span> <span class="mi">20</span><span class="o">;</span> 

<span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">PVector</span><span class="o">&gt;</span> <span class="n">snakeSegments</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">PVector</span><span class="o">&gt;();</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>

  <span class="n">size</span><span class="o">(</span><span class="mi">600</span><span class="o">,</span> <span class="mi">600</span><span class="o">);</span>
  <span class="c1">//we move background to draw()</span>
  <span class="n">frameRate</span><span class="o">(</span><span class="mi">10</span><span class="o">);</span>
  <span class="c1">//add elements to our ArrayList</span>
  <span class="o">...</span>
  
<span class="o">}</span>
<span class="kt">void</span> <span class="nf">draw</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">background</span><span class="o">(</span><span class="mi">51</span><span class="o">);</span>
  <span class="c1">//elements of the player</span>
  <span class="o">...</span>
    <span class="o">}</span>

  <span class="nc">PVector</span> <span class="n">nextPosition</span> <span class="o">=</span> <span class="n">snakeSegments</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
  <span class="kt">float</span> <span class="n">nextXPosition</span> <span class="o">=</span> <span class="n">nextPosition</span><span class="o">.</span><span class="na">x</span><span class="o">+</span><span class="mi">1</span><span class="o">;</span>
  <span class="kt">float</span> <span class="n">nextYPosition</span> <span class="o">=</span> <span class="n">nextPosition</span><span class="o">.</span><span class="na">y</span><span class="o">;</span>
  <span class="n">snakeSegments</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="k">new</span> <span class="nc">PVector</span><span class="o">(</span><span class="n">nextXPosition</span><span class="o">,</span><span class="n">nextYPosition</span><span class="o">));</span>
  <span class="n">snakeSegments</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="mi">3</span><span class="o">);</span>
<span class="o">}</span>
</pre></table></code></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://lh3.google.com/u/0/d/1lIXN2hSM2mM2AJQtp8TLdPURIFM24YOe=w958-h910-iv1" style="zoom:50%" /></p><p>lo siguiente es mover a nuestro player en todas las direcciones</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
</pre><td class="rouge-code"><pre><span class="kt">int</span> <span class="n">cellSize</span> <span class="o">=</span> <span class="mi">20</span><span class="o">;</span> 
<span class="nc">String</span> <span class="n">direccion</span> <span class="o">=</span> <span class="s">"right"</span><span class="o">;</span> 

<span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">PVector</span><span class="o">&gt;</span> <span class="n">snakeSegments</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">PVector</span><span class="o">&gt;();</span>


<span class="kt">void</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>

  <span class="n">size</span><span class="o">(</span><span class="mi">600</span><span class="o">,</span> <span class="mi">600</span><span class="o">);</span>
 
  <span class="n">frameRate</span><span class="o">(</span><span class="mi">7</span><span class="o">);</span>
  <span class="n">snakeSegments</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">PVector</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">1</span><span class="o">));</span>
  <span class="n">snakeSegments</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">PVector</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">1</span><span class="o">));</span>
  <span class="n">snakeSegments</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">PVector</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">));</span>
  
<span class="o">}</span>
<span class="kt">void</span> <span class="nf">draw</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">background</span><span class="o">(</span><span class="mi">51</span><span class="o">);</span>
  <span class="k">for</span><span class="o">(</span><span class="nc">PVector</span> <span class="n">v</span> <span class="o">:</span> <span class="n">snakeSegments</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">fill</span><span class="o">(</span><span class="mi">150</span><span class="o">,</span><span class="mi">255</span><span class="o">,</span><span class="mi">40</span><span class="o">);</span>
      <span class="n">rect</span><span class="o">((</span><span class="n">v</span><span class="o">.</span><span class="na">x</span><span class="o">-</span><span class="mi">1</span><span class="o">)*</span><span class="n">cellSize</span><span class="o">,</span> <span class="o">(</span><span class="n">v</span><span class="o">.</span><span class="na">y</span><span class="o">-</span><span class="mi">1</span><span class="o">)*</span><span class="n">cellSize</span><span class="o">,</span> <span class="n">cellSize</span><span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="n">cellSize</span><span class="o">-</span><span class="mi">1</span><span class="o">);</span>
    <span class="o">}</span>

  <span class="c1">//get the head of our player</span>
  <span class="nc">PVector</span> <span class="n">nextPosition</span> <span class="o">=</span> <span class="n">snakeSegments</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
  <span class="kt">float</span>  <span class="n">nextXPosition</span> <span class="o">=</span> <span class="n">nextPosition</span><span class="o">.</span><span class="na">x</span><span class="o">;</span>
  <span class="kt">float</span> <span class="n">nextYPosition</span> <span class="o">=</span> <span class="n">nextPosition</span><span class="o">.</span><span class="na">y</span><span class="o">;</span>
  
  <span class="c1">//update our var direccion</span>
  <span class="k">if</span><span class="o">(</span><span class="n">direccion</span> <span class="o">==</span> <span class="s">"right"</span><span class="o">){</span>
    <span class="n">nextXPosition</span> <span class="o">=</span> <span class="n">nextXPosition</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
  <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">direccion</span> <span class="o">==</span> <span class="s">"left"</span><span class="o">){</span>
    <span class="n">nextXPosition</span> <span class="o">=</span> <span class="n">nextXPosition</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
  <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">direccion</span> <span class="o">==</span> <span class="s">"down"</span><span class="o">){</span>
    <span class="n">nextYPosition</span> <span class="o">=</span> <span class="n">nextYPosition</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
  <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">direccion</span> <span class="o">==</span> <span class="s">"up"</span><span class="o">){</span>
    <span class="n">nextYPosition</span> <span class="o">=</span> <span class="n">nextYPosition</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="n">snakeSegments</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="k">new</span> <span class="nc">PVector</span><span class="o">(</span><span class="n">nextXPosition</span><span class="o">,</span> <span class="n">nextYPosition</span><span class="o">));</span>
  <span class="n">snakeSegments</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="mi">3</span><span class="o">);</span>
<span class="o">}</span>
<span class="c1">//check the key that is pressed</span>
<span class="kt">void</span> <span class="nf">keyPressed</span><span class="o">(){</span>
  <span class="k">if</span><span class="o">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">'d'</span><span class="o">){</span>
    <span class="n">direccion</span> <span class="o">=</span> <span class="s">"right"</span><span class="o">;</span>
  <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">'a'</span><span class="o">){</span>
    <span class="n">direccion</span> <span class="o">=</span> <span class="s">"left"</span><span class="o">;</span>
  <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">'s'</span><span class="o">){</span>
    <span class="n">direccion</span> <span class="o">=</span> <span class="s">"down"</span><span class="o">;</span>
  <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">'w'</span><span class="o">){</span>
    <span class="n">direccion</span> <span class="o">=</span> <span class="s">"up"</span><span class="o">;</span>
  <span class="o">}</span>
  <span class="n">println</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
<span class="o">}</span>
</pre></table></code></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://lh3.google.com/u/0/d/1ISNu1nSUh9_exBqUBI2ZGssVUAdqFgR4=w657-h930-iv1" style="zoom:50%" /></p><p>El cÃ³digo empieza a hacer cada vez mÃ¡s largo y por ende corremos el riesgo que sea mÃ¡s complicado encontrar un error, ademÃ¡s hemos aÃ±adido una nueva funciÃ³n <code class="language-plaintext highlighter-rouge">keyPressed()</code> . Por quÃ© no empezar a reordenar todo en funciones.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
</pre><td class="rouge-code"><pre><span class="kt">int</span> <span class="n">cellSize</span> <span class="o">=</span> <span class="mi">20</span><span class="o">;</span> 
<span class="kt">float</span> <span class="n">nextXPosition</span><span class="o">;</span>
<span class="kt">float</span> <span class="n">nextYPosition</span><span class="o">;</span>
<span class="nc">String</span> <span class="n">direccion</span> <span class="o">=</span> <span class="s">"right"</span><span class="o">;</span> 

<span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">PVector</span><span class="o">&gt;</span> <span class="n">snakeSegments</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">PVector</span><span class="o">&gt;();</span>


<span class="kt">void</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">size</span><span class="o">(</span><span class="mi">600</span><span class="o">,</span> <span class="mi">600</span><span class="o">);</span>
  <span class="n">frameRate</span><span class="o">(</span><span class="mi">7</span><span class="o">);</span>
  <span class="n">snakeSegments</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">PVector</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">1</span><span class="o">));</span>
  <span class="n">snakeSegments</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">PVector</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">1</span><span class="o">));</span>
  <span class="n">snakeSegments</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">PVector</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">));</span>
<span class="o">}</span>
<span class="kt">void</span> <span class="nf">draw</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">background</span><span class="o">(</span><span class="mi">51</span><span class="o">);</span>
  <span class="n">drawSnake</span><span class="o">();</span>
  <span class="n">update</span><span class="o">();</span>
  
<span class="o">}</span>
<span class="kt">void</span> <span class="nf">update</span><span class="o">(){</span>
  <span class="nc">PVector</span> <span class="n">nextPosition</span> <span class="o">=</span> <span class="n">snakeSegments</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
    <span class="n">nextXPosition</span> <span class="o">=</span> <span class="n">nextPosition</span><span class="o">.</span><span class="na">x</span><span class="o">;</span>
    <span class="n">nextYPosition</span> <span class="o">=</span> <span class="n">nextPosition</span><span class="o">.</span><span class="na">y</span><span class="o">;</span>
    <span class="n">direccion</span><span class="o">();</span>
    <span class="n">snakeSegments</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="k">new</span> <span class="nc">PVector</span><span class="o">(</span><span class="n">nextXPosition</span><span class="o">,</span>  <span class="n">nextYPosition</span><span class="o">));</span>
    <span class="n">snakeSegments</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="mi">3</span><span class="o">);</span>
<span class="o">}</span>
<span class="kt">void</span> <span class="nf">drawSnake</span><span class="o">(){</span>
    <span class="k">for</span><span class="o">(</span><span class="nc">PVector</span> <span class="n">v</span> <span class="o">:</span> <span class="n">snakeSegments</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">fill</span><span class="o">(</span><span class="mi">150</span><span class="o">,</span><span class="mi">255</span><span class="o">,</span><span class="mi">40</span><span class="o">);</span>
      <span class="n">rect</span><span class="o">((</span><span class="n">v</span><span class="o">.</span><span class="na">x</span><span class="o">-</span><span class="mi">1</span><span class="o">)*</span><span class="n">cellSize</span><span class="o">,</span> <span class="o">(</span><span class="n">v</span><span class="o">.</span><span class="na">y</span><span class="o">-</span><span class="mi">1</span><span class="o">)*</span><span class="n">cellSize</span><span class="o">,</span> <span class="n">cellSize</span><span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="n">cellSize</span><span class="o">-</span><span class="mi">1</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="kt">void</span> <span class="nf">direccion</span><span class="o">(){</span>
  <span class="k">if</span><span class="o">(</span><span class="n">direccion</span> <span class="o">==</span> <span class="s">"right"</span><span class="o">){</span>
      <span class="n">nextXPosition</span> <span class="o">=</span> <span class="n">nextXPosition</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
    <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">direccion</span> <span class="o">==</span> <span class="s">"left"</span><span class="o">){</span>
      <span class="n">nextXPosition</span> <span class="o">=</span> <span class="n">nextXPosition</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
    <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">direccion</span> <span class="o">==</span> <span class="s">"down"</span><span class="o">){</span>
      <span class="n">nextYPosition</span> <span class="o">=</span> <span class="n">nextYPosition</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
    <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">direccion</span> <span class="o">==</span> <span class="s">"up"</span><span class="o">){</span>
      <span class="n">nextYPosition</span> <span class="o">=</span> <span class="n">nextYPosition</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="kt">void</span> <span class="nf">keyPressed</span><span class="o">(){</span>
  <span class="k">if</span><span class="o">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">'d'</span><span class="o">){</span>
    <span class="n">direccion</span> <span class="o">=</span> <span class="s">"right"</span><span class="o">;</span>
  <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">'a'</span><span class="o">){</span>
    <span class="n">direccion</span> <span class="o">=</span> <span class="s">"left"</span><span class="o">;</span>
  <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">'s'</span><span class="o">){</span>
    <span class="n">direccion</span> <span class="o">=</span> <span class="s">"down"</span><span class="o">;</span>
  <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">'w'</span><span class="o">){</span>
    <span class="n">direccion</span> <span class="o">=</span> <span class="s">"up"</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>El cÃ³digo anterior tiene mucho que mejorar, pero por ahora si algo falla, serÃ¡ mas fÃ¡cil debuggear el error. Sigamos con nuestro juego, como ven nuestro pequeÃ±o player verde deja de ser visible una vez tocamos algÃºn borde de la pantalla de juego, algo tenemos que hacer para que esto no pase. No olvidar que para que la funciÃ³n <code class="language-plaintext highlighter-rouge">direcciÃ³n()</code> funcione hay que mandarla llamar y las variables <code class="language-plaintext highlighter-rouge">gridXCound</code> y <code class="language-plaintext highlighter-rouge">gridYCound</code> serÃ¡n colocadas como globales.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="kt">int</span> <span class="n">gridXCount</span> <span class="o">=</span> <span class="mi">30</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">gridYCount</span> <span class="o">=</span> <span class="mi">30</span><span class="o">;</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="kt">void</span> <span class="nf">direccion</span><span class="o">(){</span>
  <span class="k">if</span><span class="o">(</span><span class="n">direccion</span> <span class="o">==</span> <span class="s">"right"</span><span class="o">){</span>
      <span class="n">nextXPosition</span> <span class="o">=</span> <span class="n">nextXPosition</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
      <span class="k">if</span><span class="o">(</span><span class="n">nextXPosition</span> <span class="o">&gt;</span> <span class="n">gridXCount</span><span class="o">){</span>
        <span class="n">nextXPosition</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
      <span class="o">}</span>
    <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">direccion</span> <span class="o">==</span> <span class="s">"left"</span><span class="o">){</span>
      <span class="n">nextXPosition</span> <span class="o">=</span> <span class="n">nextXPosition</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
      <span class="k">if</span><span class="o">(</span><span class="n">nextXPosition</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="o">){</span>
        <span class="n">nextXPosition</span> <span class="o">=</span> <span class="n">gridXCount</span><span class="o">;</span>
      <span class="o">}</span>
    <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">direccion</span> <span class="o">==</span> <span class="s">"down"</span><span class="o">){</span>
      <span class="n">nextYPosition</span> <span class="o">=</span> <span class="n">nextYPosition</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
      <span class="k">if</span><span class="o">(</span><span class="n">nextYPosition</span> <span class="o">&gt;</span> <span class="n">gridYCount</span><span class="o">){</span>
        <span class="n">nextYPosition</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
      <span class="o">}</span>
    <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">direccion</span> <span class="o">==</span> <span class="s">"up"</span><span class="o">){</span>
      <span class="n">nextYPosition</span> <span class="o">=</span> <span class="n">nextYPosition</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
      <span class="k">if</span><span class="o">(</span><span class="n">nextYPosition</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="o">){</span>
        <span class="n">nextYPosition</span> <span class="o">=</span> <span class="n">gridYCount</span><span class="o">;</span>
      <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://lh3.google.com/u/0/d/1MLDAt2Lsy2sr4MhxvW5hlxoVPwzusww_=w657-h930-iv1" style="zoom:50%" /></p><p>Yei!! ahora nuestro amigo verde se ve un poco mejor, y gracias a las funciones no estÃ© post no se harÃ¡ mÃ¡s largo. Ahora falta poner nuestro item.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nc">PVector</span> <span class="n">food</span><span class="o">;</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="kt">void</span> <span class="nf">setup</span><span class="o">(){</span>
<span class="o">...</span>
	<span class="n">foodLocation</span><span class="o">();</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="kt">void</span> <span class="nf">draw</span><span class="o">(){</span>
<span class="o">...</span>
  <span class="n">fill</span><span class="o">(</span><span class="mi">255</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">100</span><span class="o">);</span>
  <span class="n">rect</span><span class="o">((</span><span class="n">food</span><span class="o">.</span><span class="na">x</span> <span class="o">-</span><span class="mi">1</span><span class="o">)*</span><span class="n">cellSize</span><span class="o">,(</span><span class="n">food</span><span class="o">.</span><span class="na">y</span><span class="o">-</span><span class="mi">1</span><span class="o">)*</span><span class="n">cellSize</span><span class="o">,</span><span class="n">cellSize</span><span class="o">-</span><span class="mi">1</span><span class="o">,</span><span class="n">cellSize</span><span class="o">-</span><span class="mi">1</span><span class="o">);</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kt">void</span> <span class="nf">foodLocation</span><span class="o">(){</span>
  <span class="n">food</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PVector</span><span class="o">(</span><span class="n">random</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="n">gridXCount</span><span class="o">),</span><span class="n">random</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="n">gridYCount</span><span class="o">));</span>
<span class="o">}</span>
</pre></table></code></div></div><p>El anterior seria el cÃ³digo para definir la posiciÃ³n del Ã­tem parpadeante que servirÃ¡ para que nuestro player crezca, pero no es suficiente para dibujarlo en la pantalla y que interactÃºe con nuestro amigo verde.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://lh3.google.com/u/0/d/1ELcfuweKm5NVmK6wv-vSd9UfKchcExnb=w652-h910-iv1" style="zoom:50%" /></p><p>Entonces tenemos que hacer que cada vez que nuestro snake se coma el Ã­tem el largo del snake crezca, especÃ­ficamente cuando la coordenada del elemento <code class="language-plaintext highlighter-rouge">snakeSegments.get(0)</code> y la coordenada generada por <code class="language-plaintext highlighter-rouge">foodLocation()</code> sean iguales. AsÃ­ se verÃ¡ el cÃ³digo hasta ahora con todos los cambios hechos.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
</pre><td class="rouge-code"><pre><span class="kt">int</span> <span class="n">gridXCount</span> <span class="o">=</span> <span class="mi">30</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">gridYCount</span> <span class="o">=</span> <span class="mi">30</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">cellSize</span> <span class="o">=</span> <span class="mi">20</span><span class="o">;</span> 
<span class="kt">float</span> <span class="n">nextXPosition</span><span class="o">;</span>
<span class="kt">float</span> <span class="n">nextYPosition</span><span class="o">;</span>
<span class="nc">String</span> <span class="n">direccion</span> <span class="o">=</span> <span class="s">"right"</span><span class="o">;</span> 
<span class="kt">int</span> <span class="n">total</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>
<span class="nc">PVector</span> <span class="n">food</span><span class="o">;</span>

<span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">PVector</span><span class="o">&gt;</span> <span class="n">snakeSegments</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">PVector</span><span class="o">&gt;();</span>


<span class="kt">void</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">size</span><span class="o">(</span><span class="mi">600</span><span class="o">,</span> <span class="mi">600</span><span class="o">);</span>
  <span class="n">frameRate</span><span class="o">(</span><span class="mi">10</span><span class="o">);</span>
  <span class="n">snakeSegments</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">PVector</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">1</span><span class="o">));</span>
  <span class="n">snakeSegments</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">PVector</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">1</span><span class="o">));</span>
  <span class="n">snakeSegments</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">PVector</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">));</span>
  <span class="n">foodLocation</span><span class="o">();</span>
  <span class="n">println</span><span class="o">(</span><span class="n">snakeSegments</span><span class="o">.</span><span class="na">size</span><span class="o">());</span>
  
<span class="o">}</span>
<span class="kt">void</span> <span class="nf">draw</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">background</span><span class="o">(</span><span class="mi">51</span><span class="o">);</span>
  <span class="n">drawSnake</span><span class="o">();</span>
  <span class="n">update</span><span class="o">();</span>
  <span class="n">println</span><span class="o">(</span><span class="n">snakeSegments</span><span class="o">.</span><span class="na">size</span><span class="o">());</span>
  
  <span class="k">if</span><span class="o">(</span><span class="n">eat</span><span class="o">()){</span>
    <span class="n">foodLocation</span><span class="o">();</span>
  <span class="o">}</span>
  <span class="n">fill</span><span class="o">(</span><span class="mi">255</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">100</span><span class="o">);</span>
  <span class="n">rect</span><span class="o">((</span><span class="n">food</span><span class="o">.</span><span class="na">x</span> <span class="o">-</span><span class="mi">1</span><span class="o">)*</span><span class="n">cellSize</span><span class="o">,(</span><span class="n">food</span><span class="o">.</span><span class="na">y</span><span class="o">-</span><span class="mi">1</span><span class="o">)*</span><span class="n">cellSize</span><span class="o">,</span><span class="n">cellSize</span><span class="o">-</span><span class="mi">1</span><span class="o">,</span><span class="n">cellSize</span><span class="o">-</span><span class="mi">1</span><span class="o">);</span>

<span class="o">}</span>
<span class="kt">void</span> <span class="nf">update</span><span class="o">(){</span>
    <span class="nc">PVector</span> <span class="n">nextPosition</span> <span class="o">=</span> <span class="n">snakeSegments</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
    <span class="n">nextXPosition</span> <span class="o">=</span> <span class="n">nextPosition</span><span class="o">.</span><span class="na">x</span><span class="o">;</span>
    <span class="n">nextYPosition</span> <span class="o">=</span> <span class="n">nextPosition</span><span class="o">.</span><span class="na">y</span><span class="o">;</span>
    <span class="n">direccion</span><span class="o">();</span>
    <span class="k">if</span><span class="o">(</span><span class="n">total</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">){</span>
      <span class="k">if</span><span class="o">(</span><span class="n">total</span> <span class="o">==</span> <span class="n">snakeSegments</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">snakeSegments</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">()){</span>
        <span class="n">snakeSegments</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">snakeSegments</span><span class="o">.</span><span class="na">size</span><span class="o">()-</span><span class="mi">1</span><span class="o">);</span>
      <span class="o">}</span>
      <span class="n">snakeSegments</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="k">new</span> <span class="nc">PVector</span><span class="o">(</span><span class="n">nextXPosition</span><span class="o">,</span> <span class="n">nextYPosition</span><span class="o">));</span>
    <span class="o">}</span>
    
<span class="o">}</span>
<span class="kt">void</span> <span class="nf">drawSnake</span><span class="o">(){</span>
    <span class="n">fill</span><span class="o">(</span><span class="mi">150</span><span class="o">,</span><span class="mi">255</span><span class="o">,</span><span class="mi">40</span><span class="o">);</span>
    <span class="k">for</span><span class="o">(</span><span class="nc">PVector</span> <span class="n">v</span> <span class="o">:</span> <span class="n">snakeSegments</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">rect</span><span class="o">((</span><span class="n">v</span><span class="o">.</span><span class="na">x</span><span class="o">-</span><span class="mi">1</span><span class="o">)*</span><span class="n">cellSize</span><span class="o">,</span> <span class="o">(</span><span class="n">v</span><span class="o">.</span><span class="na">y</span><span class="o">-</span><span class="mi">1</span><span class="o">)*</span><span class="n">cellSize</span><span class="o">,</span> <span class="n">cellSize</span><span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="n">cellSize</span><span class="o">-</span><span class="mi">1</span><span class="o">);</span>
    <span class="o">}</span>  
<span class="o">}</span>
<span class="kt">void</span> <span class="nf">direccion</span><span class="o">(){</span>
  <span class="k">if</span><span class="o">(</span><span class="n">direccion</span> <span class="o">==</span> <span class="s">"right"</span><span class="o">){</span>
      <span class="n">nextXPosition</span> <span class="o">=</span> <span class="n">nextXPosition</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
      <span class="k">if</span><span class="o">(</span><span class="n">nextXPosition</span> <span class="o">&gt;</span> <span class="n">gridXCount</span><span class="o">){</span>
        <span class="n">nextXPosition</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
      <span class="o">}</span>
    <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">direccion</span> <span class="o">==</span> <span class="s">"left"</span><span class="o">){</span>
      <span class="n">nextXPosition</span> <span class="o">=</span> <span class="n">nextXPosition</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
      <span class="k">if</span><span class="o">(</span><span class="n">nextXPosition</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="o">){</span>
        <span class="n">nextXPosition</span> <span class="o">=</span> <span class="n">gridXCount</span><span class="o">;</span>
      <span class="o">}</span>
    <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">direccion</span> <span class="o">==</span> <span class="s">"down"</span><span class="o">){</span>
      <span class="n">nextYPosition</span> <span class="o">=</span> <span class="n">nextYPosition</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
      <span class="k">if</span><span class="o">(</span><span class="n">nextYPosition</span> <span class="o">&gt;</span> <span class="n">gridYCount</span><span class="o">){</span>
        <span class="n">nextYPosition</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
      <span class="o">}</span>
    <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">direccion</span> <span class="o">==</span> <span class="s">"up"</span><span class="o">){</span>
      <span class="n">nextYPosition</span> <span class="o">=</span> <span class="n">nextYPosition</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
      <span class="k">if</span><span class="o">(</span><span class="n">nextYPosition</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="o">){</span>
        <span class="n">nextYPosition</span> <span class="o">=</span> <span class="n">gridYCount</span><span class="o">;</span>
      <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="kt">void</span> <span class="nf">foodLocation</span><span class="o">(){</span>
  <span class="n">food</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PVector</span><span class="o">(</span><span class="n">floor</span><span class="o">(</span><span class="n">random</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="n">gridXCount</span><span class="o">)),</span><span class="n">floor</span><span class="o">(</span><span class="n">random</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="n">gridYCount</span><span class="o">)));</span>  
<span class="o">}</span>
<span class="kt">boolean</span> <span class="nf">eat</span><span class="o">(){</span>
  <span class="k">if</span><span class="o">(</span><span class="n">nextXPosition</span> <span class="o">==</span> <span class="n">food</span><span class="o">.</span><span class="na">x</span> <span class="o">&amp;&amp;</span> <span class="n">nextYPosition</span> <span class="o">==</span> <span class="n">food</span><span class="o">.</span><span class="na">y</span><span class="o">){</span>
    <span class="n">total</span><span class="o">++;</span>
    <span class="n">println</span><span class="o">(</span><span class="n">total</span><span class="o">);</span>
    <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
  <span class="o">}</span><span class="k">else</span><span class="o">{</span>
    <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
<span class="kt">void</span> <span class="nf">keyPressed</span><span class="o">(){</span>
  <span class="k">if</span><span class="o">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">'d'</span><span class="o">){</span>
    <span class="n">direccion</span> <span class="o">=</span> <span class="s">"right"</span><span class="o">;</span>
  <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">'a'</span><span class="o">){</span>
    <span class="n">direccion</span> <span class="o">=</span> <span class="s">"left"</span><span class="o">;</span>
  <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">'s'</span><span class="o">){</span>
    <span class="n">direccion</span> <span class="o">=</span> <span class="s">"down"</span><span class="o">;</span>
  <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">'w'</span><span class="o">){</span>
    <span class="n">direccion</span> <span class="o">=</span> <span class="s">"up"</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://lh3.google.com/u/0/d/172mC6C3qdu0D6I0NJDWq5g10hWzX4aC3=w523-h555-iv1" style="zoom:50%" /></p><p>Ahora nuestro juego se ve un poco mÃ¡s decente y funcional, pero aun es aburrido porque no es posible perder, debemos solucionar eso, entonces creamos nuestra funciÃ³n <code class="language-plaintext highlighter-rouge">death()</code>. Debemos poner la funciÃ³n <code class="language-plaintext highlighter-rouge">death()</code> y agregarla a nuestro inicio.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre><span class="kt">void</span> <span class="nf">death</span><span class="o">(){</span>
  <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">snakeSegments</span><span class="o">.</span><span class="na">size</span><span class="o">();</span><span class="n">i</span><span class="o">++</span> <span class="o">){</span>
    <span class="nc">PVector</span> <span class="n">pos</span> <span class="o">=</span> <span class="n">snakeSegments</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
    <span class="k">if</span><span class="o">(</span><span class="n">nextXPosition</span> <span class="o">==</span> <span class="n">pos</span><span class="o">.</span><span class="na">x</span> <span class="o">&amp;&amp;</span> <span class="n">nextYPosition</span> <span class="o">==</span> <span class="n">pos</span><span class="o">.</span><span class="na">y</span> <span class="o">&amp;&amp;</span> <span class="n">i</span> <span class="o">!=</span> <span class="n">snakeSegments</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">){</span>
      <span class="n">println</span><span class="o">(</span><span class="s">"endgame"</span><span class="o">);</span>
      <span class="n">delay</span><span class="o">(</span><span class="mi">2000</span><span class="o">);</span>
      <span class="n">itsAlive</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
      <span class="n">reset</span><span class="o">();</span>
    <span class="o">}</span>
  <span class="o">}</span>
  <span class="k">if</span><span class="o">(</span><span class="n">itsAlive</span><span class="o">){</span>
    <span class="n">drawSnake</span><span class="o">(</span><span class="n">colorx</span><span class="o">,</span><span class="n">colory</span><span class="o">,</span><span class="n">colorz</span><span class="o">);</span>
    <span class="n">update</span><span class="o">();</span>
    <span class="k">if</span><span class="o">(</span><span class="n">eat</span><span class="o">()){</span>
      <span class="n">foodLocation</span><span class="o">();</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>AsÃ­ quedarÃ­a nuestro cÃ³digo completo ya con la funciÃ³n <code class="language-plaintext highlighter-rouge">death()</code> para que cuando nuestro player choque contra si mismo el juego se pause 2seg. AsÃ­ como tambiÃ©n el reinicio del juego. AsÃ­ se verÃ­a nuestro cÃ³digo sin la pantallas de gameover y pantalla de inicio.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
</pre><td class="rouge-code"><pre><span class="kt">int</span> <span class="n">gridXCount</span> <span class="o">=</span> <span class="mi">30</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">gridYCount</span> <span class="o">=</span> <span class="mi">30</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">cellSize</span> <span class="o">=</span> <span class="mi">20</span><span class="o">;</span> 
<span class="kt">int</span> <span class="n">colorx</span> <span class="o">=</span><span class="mi">150</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">colory</span> <span class="o">=</span><span class="mi">255</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">colorz</span> <span class="o">=</span><span class="mi">40</span><span class="o">;</span>
<span class="kt">float</span> <span class="n">nextXPosition</span><span class="o">;</span>
<span class="kt">float</span> <span class="n">nextYPosition</span><span class="o">;</span>
<span class="nc">String</span> <span class="n">direccion</span> <span class="o">=</span> <span class="s">"right"</span><span class="o">;</span> 
<span class="kt">int</span> <span class="n">total</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>
<span class="nc">PVector</span> <span class="n">food</span><span class="o">;</span>
<span class="kt">boolean</span> <span class="n">itsAlive</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>

<span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">PVector</span><span class="o">&gt;</span> <span class="n">snakeSegments</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">PVector</span><span class="o">&gt;();</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">size</span><span class="o">(</span><span class="mi">600</span><span class="o">,</span> <span class="mi">600</span><span class="o">);</span>
  <span class="n">frameRate</span><span class="o">(</span><span class="mi">15</span><span class="o">);</span>
  <span class="n">snakeSegments</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">PVector</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">1</span><span class="o">));</span>
  <span class="n">snakeSegments</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">PVector</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">1</span><span class="o">));</span>
  <span class="n">snakeSegments</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">PVector</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">));</span>
  <span class="n">foodLocation</span><span class="o">();</span>
  <span class="n">println</span><span class="o">(</span><span class="n">snakeSegments</span><span class="o">.</span><span class="na">size</span><span class="o">());</span> 
<span class="o">}</span>
<span class="kt">void</span> <span class="nf">draw</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">background</span><span class="o">(</span><span class="mi">51</span><span class="o">);</span>
  <span class="n">println</span><span class="o">(</span><span class="n">snakeSegments</span><span class="o">.</span><span class="na">size</span><span class="o">());</span>
  <span class="n">death</span><span class="o">();</span>
  <span class="n">fill</span><span class="o">(</span><span class="mi">255</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">100</span><span class="o">);</span>
  <span class="n">rect</span><span class="o">((</span><span class="n">food</span><span class="o">.</span><span class="na">x</span> <span class="o">-</span><span class="mi">1</span><span class="o">)*</span><span class="n">cellSize</span><span class="o">,(</span><span class="n">food</span><span class="o">.</span><span class="na">y</span><span class="o">-</span><span class="mi">1</span><span class="o">)*</span><span class="n">cellSize</span><span class="o">,</span><span class="n">cellSize</span><span class="o">-</span><span class="mi">1</span><span class="o">,</span><span class="n">cellSize</span><span class="o">-</span><span class="mi">1</span><span class="o">);</span>
<span class="o">}</span>
<span class="kt">void</span> <span class="nf">update</span><span class="o">(){</span>
    <span class="nc">PVector</span> <span class="n">nextPosition</span> <span class="o">=</span> <span class="n">snakeSegments</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
    <span class="n">nextXPosition</span> <span class="o">=</span> <span class="n">nextPosition</span><span class="o">.</span><span class="na">x</span><span class="o">;</span>
    <span class="n">nextYPosition</span> <span class="o">=</span> <span class="n">nextPosition</span><span class="o">.</span><span class="na">y</span><span class="o">;</span>
    <span class="n">direccion</span><span class="o">();</span>
    <span class="k">if</span><span class="o">(</span><span class="n">total</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">){</span>
      <span class="k">if</span><span class="o">(</span><span class="n">total</span> <span class="o">==</span> <span class="n">snakeSegments</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">snakeSegments</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">()){</span>
        <span class="n">snakeSegments</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">snakeSegments</span><span class="o">.</span><span class="na">size</span><span class="o">()-</span><span class="mi">1</span><span class="o">);</span>
      <span class="o">}</span>
      <span class="n">snakeSegments</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="k">new</span> <span class="nc">PVector</span><span class="o">(</span><span class="n">nextXPosition</span><span class="o">,</span> <span class="n">nextYPosition</span><span class="o">));</span>
    <span class="o">}</span> 
<span class="o">}</span>
<span class="kt">void</span> <span class="nf">drawSnake</span><span class="o">(</span><span class="kt">int</span> <span class="n">colorx</span><span class="o">,</span><span class="kt">int</span> <span class="n">colory</span><span class="o">,</span><span class="kt">int</span> <span class="n">colorz</span><span class="o">){</span>
    <span class="n">fill</span><span class="o">(</span><span class="n">colorx</span><span class="o">,</span><span class="n">colory</span><span class="o">,</span><span class="n">colorz</span><span class="o">);</span>
    <span class="k">for</span><span class="o">(</span><span class="nc">PVector</span> <span class="n">v</span> <span class="o">:</span> <span class="n">snakeSegments</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">rect</span><span class="o">((</span><span class="n">v</span><span class="o">.</span><span class="na">x</span><span class="o">-</span><span class="mi">1</span><span class="o">)*</span><span class="n">cellSize</span><span class="o">,</span> <span class="o">(</span><span class="n">v</span><span class="o">.</span><span class="na">y</span><span class="o">-</span><span class="mi">1</span><span class="o">)*</span><span class="n">cellSize</span><span class="o">,</span> <span class="n">cellSize</span><span class="o">-</span><span class="mi">1</span><span class="o">,</span> 			<span class="n">cellSize</span><span class="o">-</span><span class="mi">1</span><span class="o">);</span>
    <span class="o">}</span>  
<span class="o">}</span>
<span class="kt">void</span> <span class="nf">direccion</span><span class="o">(){</span>
  <span class="k">if</span><span class="o">(</span><span class="n">direccion</span> <span class="o">==</span> <span class="s">"right"</span><span class="o">){</span>
      <span class="n">nextXPosition</span> <span class="o">=</span> <span class="n">nextXPosition</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
      <span class="k">if</span><span class="o">(</span><span class="n">nextXPosition</span> <span class="o">&gt;</span> <span class="n">gridXCount</span><span class="o">){</span>
        <span class="n">nextXPosition</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
      <span class="o">}</span>
    <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">direccion</span> <span class="o">==</span> <span class="s">"left"</span><span class="o">){</span>
      <span class="n">nextXPosition</span> <span class="o">=</span> <span class="n">nextXPosition</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
      <span class="k">if</span><span class="o">(</span><span class="n">nextXPosition</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="o">){</span>
        <span class="n">nextXPosition</span> <span class="o">=</span> <span class="n">gridXCount</span><span class="o">;</span>
      <span class="o">}</span>
    <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">direccion</span> <span class="o">==</span> <span class="s">"down"</span><span class="o">){</span>
      <span class="n">nextYPosition</span> <span class="o">=</span> <span class="n">nextYPosition</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
      <span class="k">if</span><span class="o">(</span><span class="n">nextYPosition</span> <span class="o">&gt;</span> <span class="n">gridYCount</span><span class="o">){</span>
        <span class="n">nextYPosition</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
      <span class="o">}</span>
    <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">direccion</span> <span class="o">==</span> <span class="s">"up"</span><span class="o">){</span>
      <span class="n">nextYPosition</span> <span class="o">=</span> <span class="n">nextYPosition</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
      <span class="k">if</span><span class="o">(</span><span class="n">nextYPosition</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="o">){</span>
        <span class="n">nextYPosition</span> <span class="o">=</span> <span class="n">gridYCount</span><span class="o">;</span>
      <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="kt">void</span> <span class="nf">foodLocation</span><span class="o">(){</span>
  <span class="n">food</span> <span class="o">=</span> <span class="k">new</span> 												<span class="nc">PVector</span><span class="o">(</span><span class="n">floor</span><span class="o">(</span><span class="n">random</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="n">gridXCount</span><span class="o">)),</span><span class="n">floor</span><span class="o">(</span><span class="n">random</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="n">gridYCount</span><span class="o">)));</span>

  <span class="n">fill</span><span class="o">(</span><span class="mi">255</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">100</span><span class="o">);</span>
  <span class="n">rect</span><span class="o">((</span><span class="n">food</span><span class="o">.</span><span class="na">x</span> <span class="o">-</span><span class="mi">1</span><span class="o">)*</span><span class="n">cellSize</span><span class="o">,(</span><span class="n">food</span><span class="o">.</span><span class="na">y</span><span class="o">-</span><span class="mi">1</span><span class="o">)*</span><span class="n">cellSize</span><span class="o">,</span><span class="n">cellSize</span><span class="o">-</span>		<span class="mi">1</span><span class="o">,</span><span class="n">cellSize</span><span class="o">-</span><span class="mi">1</span><span class="o">);</span>
<span class="o">}</span>
<span class="kt">boolean</span> <span class="nf">eat</span><span class="o">(){</span>
  <span class="k">if</span><span class="o">(</span><span class="n">nextXPosition</span> <span class="o">==</span> <span class="n">food</span><span class="o">.</span><span class="na">x</span> <span class="o">&amp;&amp;</span> <span class="n">nextYPosition</span> <span class="o">==</span> <span class="n">food</span><span class="o">.</span><span class="na">y</span><span class="o">){</span>
    <span class="n">total</span><span class="o">++;</span>
    <span class="n">println</span><span class="o">(</span><span class="n">total</span><span class="o">);</span>
    <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
  <span class="o">}</span><span class="k">else</span><span class="o">{</span>
    <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
<span class="kt">void</span> <span class="nf">death</span><span class="o">(){</span>
  <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">snakeSegments</span><span class="o">.</span><span class="na">size</span><span class="o">();</span><span class="n">i</span><span class="o">++</span> <span class="o">){</span>
    <span class="nc">PVector</span> <span class="n">pos</span> <span class="o">=</span> <span class="n">snakeSegments</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
    <span class="k">if</span><span class="o">(</span><span class="n">nextXPosition</span> <span class="o">==</span> <span class="n">pos</span><span class="o">.</span><span class="na">x</span> <span class="o">&amp;&amp;</span> <span class="n">nextYPosition</span> <span class="o">==</span> <span class="n">pos</span><span class="o">.</span><span class="na">y</span> <span class="o">&amp;&amp;</span> <span class="n">i</span> <span class="o">!=</span> <span class="n">snakeSegments</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">){</span>
      <span class="n">println</span><span class="o">(</span><span class="s">"endgame"</span><span class="o">);</span>
      <span class="n">delay</span><span class="o">(</span><span class="mi">2000</span><span class="o">);</span>
      <span class="n">itsAlive</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
      <span class="n">reset</span><span class="o">();</span>
    <span class="o">}</span>
  <span class="o">}</span>
  <span class="k">if</span><span class="o">(</span><span class="n">itsAlive</span><span class="o">){</span>
    <span class="n">drawSnake</span><span class="o">(</span><span class="n">colorx</span><span class="o">,</span><span class="n">colory</span><span class="o">,</span><span class="n">colorz</span><span class="o">);</span>
    <span class="n">update</span><span class="o">();</span>
    <span class="k">if</span><span class="o">(</span><span class="n">eat</span><span class="o">()){</span>
      <span class="n">foodLocation</span><span class="o">();</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
<span class="kt">void</span> <span class="nf">reset</span><span class="o">(){</span>
  <span class="n">snakeSegments</span><span class="o">.</span><span class="na">clear</span><span class="o">();</span>
  <span class="n">direccion</span> <span class="o">=</span> <span class="s">"right"</span><span class="o">;</span>
  <span class="n">snakeSegments</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">PVector</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">1</span><span class="o">));</span>
  <span class="n">snakeSegments</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">PVector</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">1</span><span class="o">));</span>
  <span class="n">snakeSegments</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">PVector</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">));</span>
  <span class="n">total</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>
  <span class="n">itsAlive</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
  <span class="n">foodLocation</span><span class="o">();</span>
<span class="o">}</span>
<span class="kt">void</span> <span class="nf">keyPressed</span><span class="o">(){</span>
  <span class="k">if</span><span class="o">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">'d'</span><span class="o">){</span>
    <span class="n">direccion</span> <span class="o">=</span> <span class="s">"right"</span><span class="o">;</span>
  <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">'a'</span><span class="o">){</span>
    <span class="n">direccion</span> <span class="o">=</span> <span class="s">"left"</span><span class="o">;</span>
  <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">'s'</span><span class="o">){</span>
    <span class="n">direccion</span> <span class="o">=</span> <span class="s">"down"</span><span class="o">;</span>
  <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">'w'</span><span class="o">){</span>
    <span class="n">direccion</span> <span class="o">=</span> <span class="s">"up"</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>Podemos agregar tambiÃ©n solo para que este un poco mÃ¡s completo una pantallita que simula cuantos puntos hemos generado.</p><p>Como actividad puedes intentar que los puntajes funcionen correctamente.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="kt">void</span> <span class="nf">Scoreboard</span><span class="o">(){</span>
  <span class="n">fill</span><span class="o">(</span><span class="mi">250</span><span class="o">,</span> <span class="mi">250</span><span class="o">,</span> <span class="mi">250</span><span class="o">);</span>
  <span class="n">textSize</span><span class="o">(</span><span class="mi">30</span><span class="o">);</span>
  <span class="n">text</span><span class="o">(</span> <span class="s">"Snake Game"</span><span class="o">,</span> <span class="n">width</span><span class="o">/</span><span class="mf">2.8</span><span class="o">,</span> <span class="mi">30</span><span class="o">);</span>
  <span class="n">fill</span><span class="o">(</span><span class="mi">250</span><span class="o">,</span> <span class="mi">250</span><span class="o">,</span> <span class="mi">250</span><span class="o">);</span>
  <span class="n">textSize</span><span class="o">(</span><span class="mi">15</span><span class="o">);</span>
  <span class="n">text</span><span class="o">(</span> <span class="s">"By: ethel"</span><span class="o">,</span> <span class="n">width</span><span class="o">/</span><span class="mf">2.8</span><span class="o">,</span> <span class="mi">50</span><span class="o">);</span>
  
  <span class="n">fill</span><span class="o">(</span><span class="mi">250</span><span class="o">,</span> <span class="mi">250</span><span class="o">,</span> <span class="mi">250</span><span class="o">);</span>
  <span class="n">textSize</span><span class="o">(</span><span class="mi">17</span><span class="o">);</span>
  <span class="n">text</span><span class="o">(</span> <span class="s">"Score: "</span> <span class="o">+</span> <span class="n">total</span><span class="o">,</span> <span class="mi">30</span><span class="o">,</span> <span class="mi">30</span><span class="o">);</span>
  
  <span class="n">fill</span><span class="o">(</span><span class="mi">250</span><span class="o">,</span> <span class="mi">250</span><span class="o">,</span> <span class="mi">250</span><span class="o">);</span>
  <span class="n">textSize</span><span class="o">(</span><span class="mi">17</span><span class="o">);</span>
  <span class="n">text</span><span class="o">(</span> <span class="s">"High Score: "</span> <span class="o">+</span> <span class="n">total</span><span class="o">,</span> <span class="mi">30</span><span class="o">,</span> <span class="mi">50</span><span class="o">);</span>
<span class="o">}</span>
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/blogging/'>Blogging</a>, <a href='/categories/tutorial/'>Tutorial</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/games/" class="post-tag no-text-decoration" >games</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Snake Game with Processing and Java - Ethel Poe&url=/posts/Snake-en-Processing-con-JAVA/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Snake Game with Processing and Java - Ethel Poe&u=/posts/Snake-en-Processing-con-JAVA/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Snake Game with Processing and Java - Ethel Poe&url=/posts/Snake-en-Processing-con-JAVA/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/cheat-notes-unity/">Notas Deep Learning</a><li><a href="/posts/mini-flappybird/">Mini FlappyBird</a><li><a href="/posts/Snake-en-Processing-con-JAVA/">Snake Game with Processing and Java</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/games/">games</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/cheat-notes-unity/"><div class="card-body"> <span class="timeago small" > Aug 9, 2019 <i class="unloaded">2019-08-09T05:55:00-07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Notas Deep Learning</h3><div class="text-muted small"><p> What we need to define for a basic machine leaning applying? what is the input data from which we want to extract information(model)? what kind of model is most appropriate for this data? w...</p></div></div></a></div><div class="card"> <a href="/posts/deep_learning_notes/"><div class="card-body"> <span class="timeago small" > Aug 9, 2019 <i class="unloaded">2019-08-09T05:55:00-07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Notas Unity</h3><div class="text-muted small"><p> Dibujando el background. porque no usar time.deltatime cuando usamos addforce en un rigitbody?? global coordenates o local cordenates? global son utiles cuando estas armando toda la scena y quie...</p></div></div></a></div><div class="card"> <a href="/posts/mini-flappybird/"><div class="card-body"> <span class="timeago small" > Aug 9, 2019 <i class="unloaded">2019-08-09T05:55:00-07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Mini FlappyBird</h3><div class="text-muted small"><p> Dibujando el background. lo primero que haremos es dibujar el background de nuestro juego, un cuadro de 600 x 600 color azul serÃ¡ nuestro fondo. 1 2 3 4 5 6 7 8 void setup(){ //size of the scre...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <span class="btn btn-outline-primary disabled" prompt="Older"><p>-</p></span> <a href="/posts/cheat-notes-unity/" class="btn btn-outline-primary" prompt="Newer"><p>Notas Deep Learning</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> Â© 2021 <a href="https://twitter.com/ethelpoe.github.io">Ethel</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/games/">games</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
